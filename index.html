<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienestar del Paciente - Cl√≠nica</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Bot√≥n modo m√©dico -->
        <button class="medical-mode-toggle" id="medicalModeToggle">
            üë®‚Äç‚öïÔ∏è Modo M√©dico
        </button>

        <!-- Modal de login m√©dico -->
        <div class="login-modal" id="loginModal">
            <div class="login-content">
                <div class="login-header">
                    <h2>üîê Acceso M√©dico</h2>
                    <p>Ingresa tus credenciales para acceder al panel m√©dico</p>
                </div>
                <form id="loginForm" class="login-form">
                    <div class="form-group">
                        <label for="username">Usuario</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Contrase√±a</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <div class="login-error" id="loginError" style="display: none;">
                        Usuario o contrase√±a incorrectos
                    </div>
                    <div class="button-group-center">
                        <button type="submit" class="btn btn-primary">üîì Iniciar Sesi√≥n</button>
                        <button type="button" class="btn btn-secondary" id="cancelLogin">‚ùå Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Vista m√©dico -->
        <div class="medical-view" id="medicalView">
            <div class="medical-header">
                <h2>üë®‚Äç‚öïÔ∏è Panel M√©dico - Registro de Pacientes</h2>
                <div class="medical-controls">
                    <div class="session-status" id="sessionStatus">
                        <div class="session-indicator">
                            <span class="session-icon">üü¢</span>
                            <span class="session-timer" id="sessionTimer">30:00</span>
                        </div>
                        <span class="session-label">Sesi√≥n activa</span>
                    </div>
                    <button type="button" class="btn btn-warning" id="logoutBtn">
                        üö™ Cerrar Sesi√≥n
                    </button>
                </div>
            </div>
            
            <!-- Advertencia de sesi√≥n -->
            <div class="session-warning" id="sessionWarning" style="display: none;">
                <div class="warning-content">
                    <span class="warning-icon">‚ö†Ô∏è</span>
                    <span class="warning-text">Tu sesi√≥n expirar√° pronto. Realiza alguna actividad para extenderla.</span>
                </div>
            </div>
            
            <div class="patients-stats" id="patientsStats">
                <div class="stat-card">
                    <div class="stat-number" id="totalPatients">0</div>
                    <div class="stat-label">Total Pacientes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedSurveys">0</div>
                    <div class="stat-label">Encuestas Completadas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="positivePatients">0</div>
                    <div class="stat-label">Estado Positivo</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="needAttentionPatients">0</div>
                    <div class="stat-label">Requieren Atenci√≥n</div>
                </div>
            </div>

            <div class="filter-controls">
                <input type="text" id="searchPatient" placeholder="üîç Buscar por nombre o documento...">
                <select id="filterMood">
                    <option value="">Todos los estados de √°nimo</option>
                    <option value="muy-feliz">Muy Feliz</option>
                    <option value="feliz">Feliz</option>
                    <option value="neutral">Neutral</option>
                    <option value="preocupado">Preocupado</option>
                    <option value="triste">Triste</option>
                </select>
                <select id="filterService">
                    <option value="">Todos los servicios</option>
                </select>
            </div>

            <div class="patients-table-container">
                <table class="patients-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Paciente</th>
                            <th>Documento</th>
                            <th>Habitaci√≥n</th>
                            <th>Servicio</th>
                            <th>Estado de √Ånimo</th>
                            <th>Derechos/Deberes</th>
                            <th>Fecha/Hora</th>
                        </tr>
                    </thead>
                    <tbody id="patientsTableBody">
                        <!-- Contenido din√°mico -->
                    </tbody>
                </table>
                <div class="no-patients-message" id="noPatientsMessage">
                    üìã No hay pacientes registrados a√∫n.<br>
                    <small>Los pacientes aparecer√°n aqu√≠ cuando completen su registro.</small>
                </div>
            </div>

            <div class="button-group-center">
                <button type="button" class="btn btn-secondary" id="backToPatientMode">
                    üë§ Volver al Modo Paciente
                </button>
            </div>
        </div>

        <!-- Header -->
        <div class="header" id="patientHeader">
            <h1>üè• Bienestar del Paciente</h1>
            <p>Tu acompa√±amiento durante la hospitalizaci√≥n</p>
        </div>

        <!-- Barra de progreso -->
        <div class="progress-bar" id="progressBar">
            <a href="#registro" class="progress-step active" data-step="1">
                <div class="step-number">1</div>
                <span>Registro</span>
            </a>
            <a href="#derechos" class="progress-step" data-step="2">
                <div class="step-number">2</div>
                <span>Derechos y Deberes</span>
            </a>
            <a href="#rutinas" class="progress-step" data-step="3">
                <div class="step-number">3</div>
                <span>Rutinas</span>
            </a>
            <a href="#estado" class="progress-step" data-step="4">
                <div class="step-number">4</div>
                <span>Estado</span>
            </a>
        </div>

        <!-- Secci√≥n 1: Registro del paciente -->
        <div class="section active" id="registration">
            <h2>üìã Registro de Paciente</h2>
            <form id="patientForm">
                <div class="form-group">
                    <label for="fullName">Nombre completo *</label>
                    <input type="text" id="fullName" name="fullName" required>
                    <div class="error-message">El nombre debe contener solo letras y espacios, entre 3 y 60 caracteres</div>
                </div>

                <div class="form-group">
                    <label for="documentType">Tipo de documento *</label>
                    <select id="documentType" name="documentType" required>
                        <option value="">Seleccione tipo de documento</option>
                        <option value="CC">C√©dula de Ciudadan√≠a (CC)</option>
                        <option value="TI">Tarjeta de Identidad (TI)</option>
                        <option value="CE">C√©dula de Extranjer√≠a (CE)</option>
                    </select>
                    <div class="error-message">Debe seleccionar un tipo de documento</div>
                </div>

                <div class="form-group">
                    <label for="documentNumber">N√∫mero de documento *</label>
                    <input type="text" id="documentNumber" name="documentNumber" required>
                    <div class="error-message">El n√∫mero de documento debe contener 10 d√≠gitos</div>
                </div>

                <div class="form-group">
                    <label for="room">Habitaci√≥n *</label>
                    <input type="text" id="room" name="room" required>
                    <div class="error-message">Formato de habitaci√≥n inv√°lido (ej: 402A, H-203)</div>
                </div>

                <div class="form-group">
                    <label for="service">Servicio *</label>
                    <input type="text" id="service" name="service" required>
                    <div class="error-message">El servicio debe contener solo letras y espacios, entre 3 y 30 caracteres</div>
                </div>

                <div class="button-group" style="justify-content: center;">
                    <button type="submit" class="btn btn-primary">Registrar y Continuar</button>
                </div>
            </form>
        </div>

        <!-- Secci√≥n 2: Deberes y derechos -->
        <div class="section" id="rights">
            <h2>üìú Deberes y Derechos del Paciente</h2>
            
            <!-- Bot√≥n para omitir secci√≥n -->
            <div class="button-group-center">
                <button type="button" class="btn btn-warning" id="skipRightsBtn">
                    ‚è≠Ô∏è Omitir esta secci√≥n
                </button>
            </div>
            
            <div class="rights-counter">
                <span id="rightsCounter">1 de 20</span>
            </div>
            <div class="rights-card" id="rightsCard">
                <!-- Contenido din√°mico -->
            </div>
            <div class="button-group">
                <button type="button" class="btn btn-secondary" id="prevRight">Anterior</button>
                <button type="button" class="btn btn-primary" id="nextRight">Siguiente</button>
            </div>
        </div>

        <!-- Secci√≥n 3: Rutinas de ejercicios -->
        <div class="section" id="exercises">
            <h2>üßò‚Äç‚ôÄÔ∏è Rutinas de Bienestar</h2>
            
            <!-- Aviso si se omiti√≥ la secci√≥n anterior -->
            <div class="skip-notice" id="skipNotice" style="display: none;">
                <h4>üìã Informaci√≥n importante</h4>
                <p>Has omitido la secci√≥n de Derechos y Deberes. Te recomendamos revisarla m√°s tarde para conocer tus derechos como paciente.</p>
            </div>
            
            <div class="exercise-card">
                <div class="exercise-illustration">ü´Å</div>
                <h3>Respiraci√≥n Profunda</h3>
                <p>Ejercicio de relajaci√≥n para reducir el estr√©s y mejorar la oxigenaci√≥n.</p>
                <div class="exercise-steps">
                    <h4>Pasos a seguir:</h4>
                    <ol>
                        <li>Si√©ntate c√≥modamente en tu cama</li>
                        <li>Coloca una mano en el pecho y otra en el abdomen</li>
                        <li>Inhala lentamente por la nariz durante 4 segundos</li>
                        <li>Mant√©n el aire por 2 segundos</li>
                        <li>Exhala suavemente por la boca durante 6 segundos</li>
                        <li>Repite 10 veces</li>
                    </ol>
                </div>
            </div>

            <div class="exercise-card">
                <div class="exercise-illustration">ü§∏‚Äç‚ôÄÔ∏è</div>
                <h3>Movimientos Suaves</h3>
                <p>Ejercicios ligeros para mantener la movilidad y circulaci√≥n.</p>
                <div class="exercise-steps">
                    <h4>Pasos a seguir:</h4>
                    <ol>
                        <li>Rota suavemente los tobillos en c√≠rculos (10 veces cada uno)</li>
                        <li>Flexiona y extiende los dedos de pies y manos</li>
                        <li>Gira los hombros hacia adelante y atr√°s</li>
                        <li>Inclina suavemente la cabeza de lado a lado</li>
                        <li>Realiza cada movimiento lentamente</li>
                    </ol>
                </div>
            </div>

            <div class="exercise-card">
                <div class="exercise-illustration">üß†</div>
                <h3>Relajaci√≥n Mental</h3>
                <p>T√©cnica de visualizaci√≥n para promover la calma y el bienestar.</p>
                <div class="exercise-steps">
                    <h4>Pasos a seguir:</h4>
                    <ol>
                        <li>Cierra los ojos suavemente</li>
                        <li>Imagina un lugar tranquilo y seguro</li>
                        <li>Respira profundamente y relaja cada m√∫sculo</li>
                        <li>Mant√©n esta visualizaci√≥n por 5 minutos</li>
                        <li>Abre los ojos lentamente cuando termines</li>
                    </ol>
                </div>
            </div>

            <div class="button-group">
                <button type="button" class="btn btn-secondary" id="backToRights">Anterior</button>
                <button type="button" class="btn btn-primary" id="goToSurvey">Continuar a Encuesta</button>
            </div>
        </div>

        <!-- Secci√≥n 4: Encuesta de estado de √°nimo -->
        <div class="section" id="mood">
            <h2>üòä ¬øC√≥mo te sientes hoy?</h2>
            <div class="mood-survey">
                <p style="font-size: 1.2rem; margin-bottom: 2rem;">
                    Selecciona la opci√≥n que mejor describa tu estado de √°nimo actual:
                </p>
                
                <div class="mood-options">
                    <div class="mood-option" data-mood="muy-feliz">
                        <div class="mood-emoji">üòÑ</div>
                        <div class="mood-label">Muy Feliz</div>
                    </div>
                    <div class="mood-option" data-mood="feliz">
                        <div class="mood-emoji">üòä</div>
                        <div class="mood-label">Feliz</div>
                    </div>
                    <div class="mood-option" data-mood="neutral">
                        <div class="mood-emoji">üòê</div>
                        <div class="mood-label">Neutral</div>
                    </div>
                    <div class="mood-option" data-mood="preocupado">
                        <div class="mood-emoji">üòü</div>
                        <div class="mood-label">Preocupado</div>
                    </div>
                    <div class="mood-option" data-mood="triste">
                        <div class="mood-emoji">üò¢</div>
                        <div class="mood-label">Triste</div>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" id="backToExercises">Anterior</button>
                    <button type="button" class="btn btn-success" id="completeSurvey" disabled>Finalizar</button>
                </div>
            </div>
        </div>

        <!-- Mensaje de finalizaci√≥n -->
        <div class="completion-message" id="completionMessage" style="display: none;">
            <h3>¬°Gracias por completar tu registro de bienestar!</h3>
            <p>Tu informaci√≥n ha sido registrada. El equipo m√©dico estar√° al tanto de tu estado y necesidades.</p>
            <p style="margin-top: 1rem;"><strong>¬°Que tengas una pronta recuperaci√≥n!</strong></p>
            
            <div style="margin-top: 2rem;">
                <button type="button" class="btn btn-primary" id="newPatientBtn" onclick="resetApp()">
                    üÜï Registrar Nuevo Paciente
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>